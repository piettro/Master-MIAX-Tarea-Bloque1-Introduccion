# ๐๏ธ Arquitectura del Sistema - Financial Analysis Toolkit

## ๐ Visiรณn General de la Estructura

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                         FINANCIAL ANALYSIS TOOLKIT                         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                              ๐ฏ USER INTERFACE                             โ
โ                          โโโโโโโโโโโโโโโโโโโโโโโ                          โ
โ                          โ    examples/        โ                          โ
โ                          โ  - quickstart_*.py  โ                          โ
โ                          โ  - CLI Interface    โ                          โ
โ                          โโโโโโโโโโโโโโโโโโโโโโโ                          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                       โ
                                       โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                             ๐ REPORTS LAYER                               โ
โ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ   โ
โ  โ report_base  โ  โreport_macro  โ  โreport_monte  โ  โreport_price  โ   โ
โ  โ     .py      โ  โ    .py       โ  โ  _carlo.py   โ  โ _series.py   โ   โ
โ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ   โ
โ                                       โ                                    โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ                    ๐ PLOTS MODULE                                   โ  โ
โ  โ plot_macro.py โ plot_monte_carlo.py โ plot_portfolio.py โ plot_price โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                       โ
                                       โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                           ๐ง ANALYSIS LAYER                                โ
โ                    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ                     โ
โ                    โ         analysis/               โ                     โ
โ                    โ    โโโโโโโโโโโโโโโโโโโโโโโ      โ                     โ
โ                    โ    โ   monte_carlo_      โ      โ                     โ
โ                    โ    โ   โโโโโโโโโโโโโโโ   โ      โ                     โ
โ                    โ    โ   โ    base     โ   โ      โ                     โ
โ                    โ    โ   โโโโโโโโโโโโโโโ   โ      โ                     โ
โ                    โ    โ   โโโโโโโโโโโโโโโ   โ      โ                     โ
โ                    โ    โ   โ portfolios  โ   โ      โ                     โ
โ                    โ    โ   โโโโโโโโโโโโโโโ   โ      โ                     โ
โ                    โ    โ   โโโโโโโโโโโโโโโ   โ      โ                     โ
โ                    โ    โ   โ  returns    โ   โ      โ                     โ
โ                    โ    โ   โโโโโโโโโโโโโโโ   โ      โ                     โ
โ                    โ    โ   โโโโโโโโโโโโโโโ   โ      โ                     โ
โ                    โ    โ   โ combined    โ   โ      โ                     โ
โ                    โ    โ   โโโโโโโโโโโโโโโ   โ      โ                     โ
โ                    โ    โ   โโโโโโโโโโโโโโโ   โ      โ                     โ
โ                    โ    โ   โ  metrics    โ   โ      โ                     โ
โ                    โ    โ   โโโโโโโโโโโโโโโ   โ      โ                     โ
โ                    โ    โโโโโโโโโโโโโโโโโโโโโโโ      โ                     โ
โ                    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ                     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                       โ
                                       โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                            ๐พ CORE ENTITIES                                โ
โ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ   โ
โ  โ time_series  โ  โprice_series  โ  โ  portfolio   โ  โ macro_series โ   โ
โ  โ     .py      โ  โ     .py      โ  โ     .py      โ  โ     .py      โ   โ
โ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ   โ
โ                                       โ                                    โ
โ           Template Method Pattern     โ    Strategy Pattern                โ
โ           Observer Pattern            โ    Factory Method                  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                       โ
                                       โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                          ๐ EXTRACTION LAYER                               โ
โ                    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ                     โ
โ                    โ        extractor/               โ                     โ
โ                    โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ                     โ
โ                    โ  โ   prices_extractor.py  โ    โ                     โ
โ                    โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ                     โ
โ                    โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ                     โ
โ                    โ  โ   macro_extractor.py   โ    โ                     โ
โ                    โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ                     โ
โ                    โ                                 โ                     โ
โ                    โ    โโโโโโโโโโโโโโโโโโโโโโโ      โ                     โ
โ                    โ    โ      sources/       โ      โ                     โ
โ                    โ    โ โโโโโโโโโโโโโโโโโโโ โ      โ                     โ
โ                    โ    โ โ    prices/      โ โ      โ                     โ
โ                    โ    โ โ โโโโโโโโโโโโโโโ โ โ      โ                     โ
โ                    โ    โ โ โ   yahoo     โ โ โ      โ                     โ
โ                    โ    โ โ โalphavantage โ โ โ      โ                     โ
โ                    โ    โ โ โ    fmp      โ โ โ      โ                     โ
โ                    โ    โ โ โ   eodhd     โ โ โ      โ                     โ
โ                    โ    โ โ โโโโโโโโโโโโโโโ โ โ      โ                     โ
โ                    โ    โ โโโโโโโโโโโโโโโโโโโ โ      โ                     โ
โ                    โ    โ โโโโโโโโโโโโโโโโโโโ โ      โ                     โ
โ                    โ    โ โ     macro/      โ โ      โ                     โ
โ                    โ    โ โ โโโโโโโโโโโโโโโ โ โ      โ                     โ
โ                    โ    โ โ โ worldbank   โ โ โ      โ                     โ
โ                    โ    โ โ โโโโโโโโโโโโโโโ โ โ      โ                     โ
โ                    โ    โ โโโโโโโโโโโโโโโโโโโ โ      โ                     โ
โ                    โ    โโโโโโโโโโโโโโโโโโโโโโโ      โ                     โ
โ                    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ                     โ
โ                           Strategy Pattern                                 โ
โ                           Factory Method                                   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                       โ
                                       โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                           ๐ EXTERNAL DATA SOURCES                         โ
โ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ   โ
โ  โYahoo Finance โ  โAlpha Vantage โ  โ     FMP      โ  โ    EODHD     โ   โ
โ  โ     API      โ  โ     API      โ  โ     API      โ  โ     API      โ   โ
โ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ   โ
โ                           โโโโโโโโโโโโโโโโ                                 โ
โ                           โ World Bank   โ                                 โ
โ                           โ     API      โ                                 โ
โ                           โโโโโโโโโโโโโโโโ                                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## ๐๏ธ Patrones de Arquitectura Implementados

### ๐ Capa de Presentaciรณn (Presentation Layer)
- **Responsabilidad**: Interfaz con el usuario
- **Componentes**: Examples, CLI, Reports
- **Patrones**: Template Method, Observer

### ๐ง Capa de Negocio (Business Layer)
- **Responsabilidad**: Lรณgica de anรกlisis financiero
- **Componentes**: Analysis entities, Core entities
- **Patrones**: Strategy, Factory Method, Template Method

### ๐ Capa de Datos (Data Layer)
- **Responsabilidad**: Extracciรณn y estandarizaciรณn de datos
- **Componentes**: Extractors, Sources
- **Patrones**: Strategy, Factory Method, Adapter

## ๐ง Design Patterns por Mรณdulo

### ๐ Core Entities
```
TimeSeries (Abstract Base)
    โ
    โโโ PriceSeries (Strategy Pattern)
    โโโ Portfolio (Composite Pattern)
    โโโ MacroSeries (Template Method)
```

### ๐ฒ Monte Carlo Analysis
```
MonteCarloBase (Template Method)
    โ
    โโโ MonteCarloReturns
    โโโ MonteCarloPortfolios
    โโโ MonteCarloCombined
    โโโ MonteCarloMetrics (Strategy Pattern)
```

### ๐ Data Extraction
```
ExtractorBase (Strategy Pattern)
    โ
    โโโ PricesExtractor
    โ   โโโ YahooExtractor
    โ   โโโ AlphaVantageExtractor
    โ   โโโ FMPExtractor
    โ   โโโ EODHDExtractor
    โ
    โโโ MacroExtractor
        โโโ WorldBankExtractor
```

## ๐ Flujo de Datos

```
๐ User Request
    โ
๐ Reports Layer
    โ
๐ง Analysis Layer
    โ
๐พ Core Entities
    โ
๐ Extraction Layer
    โ
๐ External APIs
```

## ๐ฏ Beneficios de la Arquitectura

1. **Modularidad**: Cada capa tiene responsabilidad especรญfica
2. **Extensibilidad**: Fรกcil adiciรณn de nuevas fuentes de datos
3. **Testabilidad**: Componentes aislados permiten tests unitarios
4. **Mantenibilidad**: Cรณdigo organizado y bien estructurado
5. **Reutilizaciรณn**: Componentes pueden ser reutilizados en diferentes contextos

## ๐ Patrones de Diseรฑo Aplicados

| Patrรณn | Localizaciรณn | Beneficio |
|--------|-------------|-----------|
| Strategy | Extractors, Analysis | Flexibilidad en la elecciรณn de algoritmos |
| Template Method | Reports, Analysis | Estandarizaciรณn de workflows |
| Observer | Statistics, Updates | Actualizaciones automรกticas |
| Factory Method | Extractors | Creaciรณn de objetos flexible |
| Composite | Portfolio | Tratamiento uniforme de activos |
| Bridge | Plots, Reports | Separaciรณn de abstracciรณn e implementaciรณn |

## ๐ Dependencias Entre Mรณdulos

```
reports/     โโโ plots/       โโโ analysis/
    โ                              โ
    โโโโโโโโโโโโโโ core/     โโโโโโโ
                    โ
                    โ
               extractor/
                    โ
                    โ
              External APIs
```

Esta arquitectura sigue principios SOLID y permite que el sistema sea:
- **Escalable**: Fรกcil adiciรณn de nuevos mรณdulos
- **Testeable**: Cada componente puede ser probado aisladamente
- **Flexible**: Mรบltiples implementaciones para cada interfaz
- **Mantenible**: Cรณdigo bien organizado y documentado